import{a as w}from"./chunk-ZVOELKPZ.js";import{d as I,e as k}from"./chunk-RWC5NNWA.js";import"./chunk-BV6S3RUB.js";import{a as S,c as E,d as x,e as L,f as P,g as F,p as O}from"./chunk-CZ6RJV6A.js";import{k as T,o as j,p as B}from"./chunk-SENDHDUF.js";import{$a as r,Aa as c,Ba as d,La as b,Pa as _,Qa as i,Ra as o,Sa as v,Ua as p,Va as C,ab as y,ca as h,cb as u,db as g,eb as f,gb as M}from"./chunk-BHUJHJEN.js";function W(s,a){if(s&1&&(i(0,"p",12),r(1),o()),s&2){let N=C();c(),y(N.errorMsg)}}var H=(()=>{let a=class a{constructor(t,e,n){this.firestore=t,this.router=e,this.authService=n,this.loginsCollections=[],this.email="",this.pass="",this.errorMsg=""}login(){this.authService.login(this.email,this.pass).then(t=>{if(t.user.email!==null){let e=T(this.firestore,"logins");j(e,{date:new Date,user:this.email}),this.router.navigate(["/home"])}}).catch(t=>{switch(t.code){case"auth/invalid-email":this.errorMsg="El correo electronico no es valido.";break;case"auth/missing-password":this.errorMsg="La contrase\xF1a no es valida.";break;case"auth/invalid-credential":this.errorMsg="El correo electronico o contrase\xF1a son incorrectos.";break}})}fillInputsUser(){let t=document.getElementById("email");t&&(t.value="empleado@mail.com",this.email="empleado@mail.com");let e=document.getElementById("pass");e&&(e.value="123456",this.pass="123456")}fillInputsAdmin(){let t=document.getElementById("email");t&&(t.value="admin@mail.com",this.email="admin@mail.com");let e=document.getElementById("pass");e&&(e.value="123456",this.pass="123456")}};a.\u0275fac=function(e){return new(e||a)(d(B),d(I),d(w))},a.\u0275cmp=h({type:a,selectors:[["app-login"]],standalone:!0,features:[M],decls:30,vars:3,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-5","login-container"],[1,"card","shadow","mt-4"],[1,"card-header"],[1,"text-center","my-3"],[1,"card-body"],[1,"form-group","mt-3"],["for","email"],["type","email","name","email","id","email","placeholder","Ingrese su correo electronico",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","pass","id","pass","placeholder","Ingrese su contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],[1,"error-msg"],[1,"d-flex","justify-content-center","mt-5"],["type","submit",1,"btn","btn-primary","btn-block","btn-login",3,"click"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-link",3,"click"],[1,"border-bottom","mt-4"],[1,"d-flex","justify-content-center","mt-4","mb-1"],["type","button","routerLink","../register",1,"btn","btn-secondary","btn-reg"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),r(6,"Inicio de sesion"),o()(),i(7,"div",6)(8,"form")(9,"div",7)(10,"label",8),r(11,"Correo electronico"),o(),i(12,"input",9),f("ngModelChange",function(l){return g(n.email,l)||(n.email=l),l}),o()(),i(13,"div",7)(14,"label",10),r(15,"Contrase\xF1a"),o(),i(16,"input",11),f("ngModelChange",function(l){return g(n.pass,l)||(n.pass=l),l}),o()(),b(17,W,2,1,"p",12),i(18,"div",13)(19,"button",14),p("click",function(){return n.login()}),r(20,"Iniciar sesion"),o()(),i(21,"div",15)(22,"button",16),p("click",function(){return n.fillInputsUser()}),r(23,"Empleado"),o(),i(24,"button",16),p("click",function(){return n.fillInputsAdmin()}),r(25,"Administrador"),o()()(),v(26,"div",17),i(27,"div",18)(28,"button",19),r(29,"Crear cuenta nueva"),o()()()()()()()),e&2&&(c(12),u("ngModel",n.email),c(4),u("ngModel",n.pass),c(),_(17,n.errorMsg!=""?17:-1))},dependencies:[O,F,S,E,x,P,L,k],styles:[".card-header[_ngcontent-%COMP%]{background-color:#e4e4e4;border:none}.login-container[_ngcontent-%COMP%]{z-index:1;margin-top:100px}.google-icon[_ngcontent-%COMP%]{width:27px;height:27px;cursor:pointer}.btn-login[_ngcontent-%COMP%]{width:80%;font-weight:900;font-size:21px;background-color:#fc573a;border:none}.btn-login[_ngcontent-%COMP%]:hover{background-color:#dc462c;transition:all .2s}.btn-reg[_ngcontent-%COMP%]{width:60%;font-size:16.5px}.error-msg[_ngcontent-%COMP%]{color:red;position:absolute}"]});let s=a;return s})();export{H as LoginComponent};
